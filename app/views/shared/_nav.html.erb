<!--Navbar-->
<nav class="navbar navbar-expand-lg navbar-dark elegant-color">

  <!-- Navbar brand -->
  <a class="navbar-brand" href="/">One Month Blog</a>

  <!-- Collapse button -->
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#basicExampleNav"
    aria-controls="basicExampleNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <!-- Collapsible content -->
  <div class="collapse navbar-collapse" id="basicExampleNav">

    <!-- Links -->
    <ul class="navbar-nav mr-auto">
      <li class="nav-item">
        <a class="nav-link" href="/">Home</a>
      </li>
      <li class="nav-item">
        <%= link_to('About', about_path, class: 'nav-link') %>
      </li>
      <li class="nav-item">
        <%= link_to('Contact', contact_path, class: 'nav-link') %>
      </li>

<% if author_signed_in? %>  
      <!-- Dropdown -->
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink-4" data-toggle="dropdown"
          aria-haspopup="true" aria-expanded="false">
          <%= fa_icon "user" %></i> <%= current_author.name %> </a>
        <div class="dropdown-menu">
          
          <div class="text-center"><%= button_to('New Post', new_post_path, method: :get, class: 'col-sm-6 btn btn-elegant btn-sm')  %></div>
           
           <div class="text-center"><%= button_to('My posts', author_path(current_author.name), method: :get, class: 'col-sm-6 btn btn-elegant btn-sm')  %></div>
           
           <div class="text-center"><%= button_to('My Account', edit_author_registration_path, method: :get, class: 'col-sm-6 btn btn-elegant btn-sm') %></div>
           <% if current_author.admin == true %>
            <div class="text-center"><%= button_to('New Author', new_author_registration_path, method: :get, class: 'col-sm-6 btn btn-elegant btn-sm')  %></div>
            <div class="text-center"><%= button_to('Manage Authors', author_manage_path, method: :get, class: 'col-sm-6 btn btn-elegant btn-sm')  %></div>
           <% end %>
           
           <div class="text-center"><%= button_to('Log out', destroy_author_session_path, method: :delete, class: 'col-sm-6 btn btn-elegant btn-sm') %></div> 
        </div>
      </li>

<% elsif user_signed_in? %>     

      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink-4" data-toggle="dropdown"
          aria-haspopup="true" aria-expanded="false">
          <%= fa_icon "user" %></i> <%= current_user.name %> </a>
        <div class="dropdown-menu">
        
           <div class="text-center"><%= button_to('My Account', edit_user_registration_path, method: :get, class: 'col-sm-6 btn btn-elegant btn-sm') %></div>
           
           <div class="text-center"><%= button_to('Log out', destroy_user_session_path, method: :delete, class: 'col-sm-6 btn btn-elegant btn-sm') %></div> 
        </div>
      </li>

<% else %>
        <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink-4" data-toggle="dropdown"
          aria-haspopup="true" aria-expanded="false">
          <%= fa_icon "user" %></i> Join us</a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink-4">
          
          <div class="dropdown-item"> <%= link_to("Authors", new_author_session_path)  %></div> 
        
          <div class="dropdown-item"> <%= link_to("Users", new_user_session_path)  %></div> 

          <div class="dropdown-item"> <%= link_to("Sign Up", new_user_registration_path)  %></div> 

        </div>
      </li>     
<% end %>

    </ul>
</div>
    
    
    <!-- Search-->

    <form class="form-inline">
      <div class="md-form mt-0">
        <%= text_field_tag :search, params[:search], class: "form-control ", placeholder: "Search" %>
        </div>
      </div>
    </form>
  </div>
  <!-- Collapsible content -->

</nav>
<!--/.Navbar-->

